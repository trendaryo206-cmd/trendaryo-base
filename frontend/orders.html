<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Orders | Trendaryo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/components.css" />
    <style>
        .orders-hero {
            background: linear-gradient(rgba(10, 25, 47, 0.9), rgba(10, 25, 47, 0.9)),
                        url('https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            color: var(--primary-light);
            padding: 8rem 0 4rem;
            text-align: center;
        }

        .orders-hero h1 {
            color: var(--primary-light);
            margin-bottom: 1rem;
        }

        .orders-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .orders-content {
            padding: 4rem 0;
        }

        .orders-filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: var(--gray-bg);
            border-radius: 8px;
        }

        .filter-tabs {
            display: flex;
            gap: 1rem;
        }

        .filter-tab {
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-body);
        }

        .filter-tab.active {
            background-color: var(--accent-gold);
            color: var(--primary-dark);
        }

        .order-card {
            background-color: var(--primary-light);
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .order-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .order-number {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .order-date {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .order-status {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-delivered {
            background-color: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
        }

        .status-shipped {
            background-color: rgba(33, 150, 243, 0.1);
            color: #2196F3;
        }

        .status-processing {
            background-color: rgba(255, 152, 0, 0.1);
            color: #FF9800;
        }

        .status-cancelled {
            background-color: rgba(244, 67, 54, 0.1);
            color: #f44336;
        }

        .order-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .order-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background-color: var(--gray-bg);
            border-radius: 8px;
        }

        .item-image {
            width: 60px;
            height: 60px;
            background-color: var(--primary-light);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--text-light);
        }

        .item-details {
            flex: 1;
        }

        .item-name {
            font-weight: 500;
            margin-bottom: 0.3rem;
        }

        .item-price {
            color: var(--accent-gold);
            font-weight: 600;
        }

        .order-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-border);
        }

        .order-total {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .order-actions {
            display: flex;
            gap: 1rem;
        }

        .action-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--gray-border);
            background: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-body);
            text-decoration: none;
            color: var(--text-dark);
        }

        .action-btn:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
        }

        .action-btn.primary {
            background-color: var(--accent-gold);
            color: var(--primary-dark);
            border-color: var(--accent-gold);
        }

        .action-btn.primary:hover {
            background-color: #c19b2e;
        }

        .empty-orders {
            text-align: center;
            padding: 4rem;
            background-color: var(--gray-bg);
            border-radius: 10px;
            margin: 3rem 0;
        }

        .empty-orders i {
            font-size: 4rem;
            color: var(--accent-gold);
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .orders-filters {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .filter-tabs {
                justify-content: center;
                flex-wrap: wrap;
            }

            .order-header {
                flex-direction: column;
                gap: 1rem;
            }

            .order-footer {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .order-actions {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div id="header-container"></div>

    <main>
        <section class="orders-hero">
            <div class="container">
                <h1>My Orders</h1>
                <p>Track your orders and view your purchase history</p>
                <div class="orders-stats">
                    <div class="stat-item">
                        <i class="fas fa-box"></i>
                        <span id="total-orders">12 total orders</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-shipping-fast"></i>
                        <span id="active-orders">2 active shipments</span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-dollar-sign"></i>
                        <span id="total-spent">$1,247 total spent</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="orders-content">
            <div class="container">
                <div class="orders-filters">
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">All Orders</button>
                        <button class="filter-tab" data-filter="processing">Processing</button>
                        <button class="filter-tab" data-filter="shipped">Shipped</button>
                        <button class="filter-tab" data-filter="delivered">Delivered</button>
                        <button class="filter-tab" data-filter="cancelled">Cancelled</button>
                    </div>
                    <div>
                        <select class="form-control" id="sort-orders" style="width: auto;">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="amount-high">Highest Amount</option>
                            <option value="amount-low">Lowest Amount</option>
                        </select>
                    </div>
                </div>

                <div id="orders-list">
                    <!-- Orders will be loaded by JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <div id="footer-container"></div>

    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadHeader();
            loadFooter();
            loadOrders();
            initOrdersPage();
        });

        const sampleOrders = [
            {
                id: 'TR20230045',
                date: '2023-06-12',
                status: 'delivered',
                total: 247.50,
                items: [
                    { name: 'Minimalist Smart Watch', price: 249.99, quantity: 1 },
                    { name: 'Wireless Charging Pad', price: 39.99, quantity: 1 }
                ]
            },
            {
                id: 'TR20230032',
                date: '2023-05-28',
                status: 'shipped',
                total: 89.99,
                trackingNumber: 'TRK123456789',
                items: [
                    { name: 'Sustainable Backpack', price: 89.99, quantity: 1 }
                ]
            },
            {
                id: 'TR20230018',
                date: '2023-05-05',
                status: 'processing',
                total: 156.75,
                items: [
                    { name: 'Wireless Earbuds Pro', price: 179.99, quantity: 1 },
                    { name: 'Phone Case', price: 24.99, quantity: 1 }
                ]
            },
            {
                id: 'TR20230001',
                date: '2023-04-15',
                status: 'cancelled',
                total: 199.99,
                items: [
                    { name: 'Designer Sunglasses', price: 199.99, quantity: 1 }
                ]
            }
        ];

        function loadOrders() {
            const ordersList = document.getElementById('orders-list');
            
            if (sampleOrders.length === 0) {
                ordersList.innerHTML = `
                    <div class="empty-orders">
                        <i class="fas fa-box-open"></i>
                        <h2>No orders yet</h2>
                        <p>When you place your first order, it will appear here.</p>
                        <a href="shop.html" class="btn">Start Shopping</a>
                    </div>
                `;
                return;
            }

            ordersList.innerHTML = sampleOrders.map(order => `
                <div class="order-card" data-status="${order.status}">
                    <div class="order-header">
                        <div>
                            <div class="order-number">Order #${order.id}</div>
                            <div class="order-date">Placed on ${new Date(order.date).toLocaleDateString('en-US', { 
                                year: 'numeric', 
                                month: 'long', 
                                day: 'numeric' 
                            })}</div>
                        </div>
                        <div class="order-status status-${order.status}">
                            ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                        </div>
                    </div>

                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="item-image">ðŸ“¦</div>
                                <div class="item-details">
                                    <div class="item-name">${item.name}</div>
                                    <div class="item-price">$${item.price} Ã— ${item.quantity}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="order-footer">
                        <div class="order-total">
                            Total: $${order.total.toFixed(2)}
                        </div>
                        <div class="order-actions">
                            ${getOrderActions(order)}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getOrderActions(order) {
            switch (order.status) {
                case 'processing':
                    return `
                        <button class="action-btn" onclick="cancelOrder('${order.id}')">Cancel Order</button>
                        <a href="#" class="action-btn primary">View Details</a>
                    `;
                case 'shipped':
                    return `
                        <button class="action-btn" onclick="trackOrder('${order.trackingNumber || 'TRK123456789'}')">Track Package</button>
                        <a href="#" class="action-btn primary">View Details</a>
                    `;
                case 'delivered':
                    return `
                        <button class="action-btn" onclick="reorder('${order.id}')">Reorder</button>
                        <button class="action-btn" onclick="writeReview('${order.id}')">Write Review</button>
                        <a href="#" class="action-btn primary">View Details</a>
                    `;
                case 'cancelled':
                    return `
                        <button class="action-btn" onclick="reorder('${order.id}')">Reorder</button>
                        <a href="#" class="action-btn primary">View Details</a>
                    `;
                default:
                    return `<a href="#" class="action-btn primary">View Details</a>`;
            }
        }

        function initOrdersPage() {
            // Filter tabs
            const filterTabs = document.querySelectorAll('.filter-tab');
            filterTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    filterTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filter = this.getAttribute('data-filter');
                    filterOrders(filter);
                });
            });

            // Sort dropdown
            const sortSelect = document.getElementById('sort-orders');
            sortSelect.addEventListener('change', function() {
                sortOrders(this.value);
            });
        }

        function filterOrders(status) {
            const orderCards = document.querySelectorAll('.order-card');
            orderCards.forEach(card => {
                if (status === 'all' || card.getAttribute('data-status') === status) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function sortOrders(sortBy) {
            // In a real app, this would re-fetch and sort the data
            showNotification(`Sorting by: ${sortBy}`);
        }

        function cancelOrder(orderId) {
            if (confirm('Are you sure you want to cancel this order?')) {
                showNotification('Order cancellation requested. You will receive a confirmation email shortly.');
            }
        }

        function trackOrder(trackingNumber) {
            showNotification(`Tracking number: ${trackingNumber}. Opening tracking page...`);
            // In a real app, this would open the carrier's tracking page
        }

        function reorder(orderId) {
            showNotification('Items added to cart! Redirecting to checkout...');
            // In a real app, this would add the order items to cart
        }

        function writeReview(orderId) {
            showNotification('Redirecting to review page...');
            // In a real app, this would open the review form
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: var(--accent-gold);
                color: var(--primary-dark);
                padding: 1rem 2rem;
                border-radius: 5px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
    </script>
</body>
</html>